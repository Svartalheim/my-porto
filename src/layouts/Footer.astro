---
// Footer component
---

<style>
  #footer {
    /* position: sticky; */
    z-index: -1;
    position: relative;
    /* inset: auto auto 0;
    margin-top: auto; */
  }

  /* Infinite Logo Marquee Styles */
  .infinite-logo-container {
    width: 100%;
    overflow: hidden;
    height: 340px;
    /* margin: 3rem 0;
    padding: 2rem 0; */
  }

  .logo-track {
    display: flex;
    align-items: center;
    will-change: transform;
    width: fit-content;
  }

  .logo-unit {
    display: flex;
    align-items: center;
    flex-shrink: 0;
    /* height: 64px; */
  }

  .logo-svg {
    display: flex;
    align-items: center;
    color: rgb(255, 255, 255);
  }

  .logo-svg svg {
    height: 100%;
    /* height: 130px; */
    width: 100vw;
  }

  .separator {
    font-size: 3rem;
    margin: 0 4rem;
    color: rgb(255, 255, 255);
    font-weight: bold;
    user-select: none;
  }

  .socials a {
    transition-property: width, opacity;
    transition: all 0.3s ease;
  }

  .socials a:hover {
    margin-left: 1.5vw;
    margin-right: 1.5vw;
    opacity: 60%;
  }
</style>
<footer
  id='footer'
  class='pt-16 mt-auto relative max-w-[var(--100vw)] h-screen bg-black text-white'
>
  <div class='container mx-auto px-4 space-y-10'>
    <div class='space-y-4 space-x-6'>
      <span class='p-small text-background/80'>(SEND YOUR BRIEF HERE)</span>
      <span class='p-xlarge text-background font-medium'
        ><!--email_off-->gboomers313@gmail.com<!--/email_off--></span
      >
    </div>
    <div class='grid grid-cols-2'>
      <div class='space-y-5'>
        <p class='p-small text-background/80'>(SOCIALS)</p>
        <ul
          class='relative socials space-y-2 w-fit p-large text-background whitespace-nowrap'
        >
          <li>
            <a target='_blank' href='https://github.com/Svartalheim'>Github 1</a
            >
            <span> / </span>
            <a target='_blank' href='https://github.com/aqsyalraihanjamil'
              >Github 2</a
            >
          </li>
          <li>
            <a target='_blank' href='https://www.linkedin.com/in/jamilss1437/'
              >Linkedin</a
            >
          </li>
          <li>
            <a
              target='_blank'
              href='https://discord.com/users/572704110999240704'>Discord</a
            >
          </li>
        </ul>
      </div>
    </div>
    <div
      class='flex flex-col lg:flex-row lg:justify-between p-tiny space-y-1 text-background/50'
    >
      <span>Copyright @2025 All Right Reserved </span>
      <span>Design by me ü§ç</span>
      <span>Development by me ü§ç</span>
    </div>

    <!-- Infinite Logo Marquee -->
    <div class='infinite-logo-container' id='logoMarquee'>
      <div class='logo-track' id='logoTrack'>
        <div class='logo-unit'>
          <div class='logo-svg'>
            <svg
              width='373'
              height='140'
              viewBox='0 0 373 129'
              fill='none'
              xmlns='http://www.w3.org/2000/svg'
            >
              <path
                d='M37.4847 129C26.4376 129 18.0855 127.265 11.5755 122.228C5.06559 117.192 2.51079 111.705 1 100.462H20.6403C21.1335 104.267 22.3122 107.638 25.1727 109.652C28.1317 111.555 29.5835 113.038 36.7554 113.038C41.3913 113.038 46.2668 111.107 48.3381 109.652C50.5081 108.085 50.8006 105.773 50.8006 102.975C50.8006 100.848 49.6204 99.1627 48.3381 98.0435C46.3237 96.2853 44.0391 94.9574 40.7842 94.1739L29.2014 91.7554C11.5755 87.4022 13.0863 85.9511 8.55396 82.0815C4.31263 77.7167 3.01439 72.9467 3.01439 66.1196C3.01439 57.8375 6.71044 51.156 12.3327 46.5673C17.9549 41.8666 25.6874 40 35.7482 40C41.417 40 45.9627 40.584 50.3525 41.9348C53.6772 42.9579 56.3957 44.3533 59.4173 46.288C62.682 49.0789 64.9568 51.125 66.9712 54.9946C68.482 57.8967 69.9928 60.3152 70.4964 65.6359H50.8561C49.8489 61.7663 47.1802 60.3191 44.813 58.8641C42.4457 57.2973 40.5918 56.9293 36.2518 56.9293C32.3064 56.9293 29.0123 57.5948 27.1871 59.3478C26.1799 60.3152 24.1655 61.7663 24.1655 65.6359C24.1655 67.6504 25.1053 70.2091 26.6835 71.4402C28.2616 72.5594 30.5879 73.9307 34.2374 74.8261L46.3237 77.2446C53.9187 79.0353 62.6208 82.9614 66.4676 87.8859C70.413 92.6984 71 96.3715 71 102.975C71 111.369 68.2583 117.044 62.4389 121.745C56.718 126.333 48.0387 129 37.4847 129Z'
                fill='currentColor'></path>
              <path
                d='M100.764 129L71 40L92.225 40L104.74 77.2955L116.334 114.591H109.805L130.9 40H153L124.085 129H100.764Z'
                fill='currentColor'></path>
              <path
                fill-rule='evenodd'
                clip-rule='evenodd'
                d='M172.882 49.1619V40L156 40V90C156 90 159.018 70.6614 168 64C173.939 59.5955 186 58.1272 186 58.1272V40C184.874 40.107 183.734 40.0644 182.613 40.0225C178.674 39.8753 174.967 42.7685 172.882 49.1619Z'
                fill='currentColor'></path>
              <path
                d='M192.471 129L192.471 33.5V17.7752L192.5 16L192.471 1.6217H212.686V129H192.471ZM241 128.64V73C241 68.0464 240.477 64.4768 238.5 62C236.613 59.5232 232.684 57 229 57C225.855 57 222.5 57.5 220.5 58.5C218 59.5 215 63 215 63L212 67L212.5 64.5C212.5 64.5 215.531 46.9036 224 42C229.336 38.9108 235 38 239.5 39C246.5 41 248.186 42.1862 253.5 47.5C258.5 52.5 260.529 58.5291 260.529 67.9646L260.805 128.64H241Z'
                fill='currentColor'></path>
              <path
                d='M182 1.6217C182 1.6217 181.7 4.49753 183 7.5C184.427 10.796 192.5 16 192.5 16L192.471 1.6217H190.5H182Z'
                fill='currentColor'></path>
              <path
                d='M265 129V41.7115H283.99V62.25H284.378V129H265ZM309.311 129V73.5462C309.311 69.0962 308.407 65.8442 306.598 63.7904C304.876 61.6224 302.421 60.5385 299.234 60.5385C296.478 60.5385 293.938 61.3942 291.612 63.1058C289.373 64.7032 287.608 67.0423 286.316 70.1231C285.024 73.0897 284.378 76.6269 284.378 80.7346L282.608 53.5717C284.378 50.1431 284.744 49.0105 288.791 45.2451C292.925 41.3656 297.29 40 303.06 40C309.95 40 317.821 44.0289 321.61 49.1635C325.486 54.2981 328.689 59.2833 328.689 67.0423V129H309.311ZM353.622 129V73.5462C353.622 69.0962 352.718 65.8442 350.909 63.7904C349.187 61.6224 345.801 59.1692 342.615 59.1692C339.859 59.1692 337.318 60.025 334.993 61.7365C332.753 63.334 330.988 65.6731 329.696 68.7539C328.404 71.7205 328.689 76.6269 328.689 80.7346L322.086 59.4492C324.239 53.0594 327.378 49.9901 331.598 46.2247C335.905 42.3452 340.79 40.3472 346.819 40.3472C353.967 40.3472 362.055 43.8007 365.844 49.1635C369.72 54.4122 373 60.1962 373 68.7539V129H353.622Z'
                fill='currentColor'></path>
            </svg>
          </div>
          <!-- <div class="separator">‚Ä¢</div> -->
        </div>
      </div>
    </div>
  </div>
</footer>

<script>
  import { gsap } from 'gsap';

  let currentAnimation: gsap.core.Tween | null = null;
  let resizeTimeout: NodeJS.Timeout | null = null;

  function clearMarquee() {
    const track = document.getElementById('logoTrack');
    if (!track) return;

    // Kill current animation
    if (currentAnimation) {
      currentAnimation.kill();
      currentAnimation = null;
    }

    // Keep only the first logo unit and remove clones
    const logoUnits = track.querySelectorAll('.logo-unit');
    logoUnits.forEach((unit, index) => {
      if (index > 0) {
        unit.remove();
      }
    });

    // Reset position
    gsap.set(track, { x: 0 });
  }

  function initLogoMarquee() {
    const container = document.getElementById('logoMarquee');
    const track = document.getElementById('logoTrack');

    if (!container || !track) return;

    // Clear any existing setup
    clearMarquee();

    // Get the original logo unit
    const logoUnit = track.querySelector('.logo-unit');
    if (!logoUnit) return;

    // Calculate how many units we need based on container width
    const containerWidth = (container as HTMLElement).offsetWidth;
    const unitWidth = (logoUnit as HTMLElement).offsetWidth;
    const unitsNeeded = Math.ceil(containerWidth / unitWidth) + 3; // Extra for seamless loop

    // Clone units to fill the screen
    for (let i = 0; i < unitsNeeded; i++) {
      const clone = logoUnit.cloneNode(true);
      track.appendChild(clone);
    }

    // Set initial position
    gsap.set(track, { x: 0 });

    // Create infinite loop animation
    currentAnimation = gsap.to(track, {
      x: -unitWidth,
      duration: 15,
      ease: 'none',
      repeat: -1,
      modifiers: {
        x: gsap.utils.unitize((x) => parseFloat(x) % unitWidth),
      },
    });

    return currentAnimation;
  }

  function handleResize() {
    // Clear existing timeout
    if (resizeTimeout) {
      clearTimeout(resizeTimeout);
    }

    // Debounce resize events
    resizeTimeout = setTimeout(() => {
      initLogoMarquee();
    }, 250);
  }

  // Initialize on page load
  document.addEventListener('DOMContentLoaded', initLogoMarquee);

  // Handle viewport changes
  window.addEventListener('resize', handleResize);

  // Reinitialize on Astro page transitions
  document.addEventListener('astro:after-swap', () => {
    // Small delay to ensure DOM is ready
    setTimeout(initLogoMarquee, 1000);
  });

  // Cleanup on page unload
  document.addEventListener('astro:before-preparation', () => {
    if (currentAnimation) {
      currentAnimation.kill();
    }
    window.removeEventListener('resize', handleResize);
  });
</script>
